

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Authentication and Access Control &mdash; Central Dogma 0.73.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Known issues" href="known-issues.html" />
    <link rel="prev" title="Better configuration change workflow with Git-to-CD mirroring" href="mirroring.html" />
  <script src="https://cdn.jsdelivr.net/npm/interactjs@1.4.0/dist/interact.min.js"></script>
  <script src="_static/center_page.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
   

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/central_dogma.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.73
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setting up</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="client-cli.html">Command-line client</a></li>
<li class="toctree-l1"><a class="reference internal" href="client-java.html">Java client library</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirroring.html">Better configuration change workflow with Git-to-CD mirroring</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Authentication and Access Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-authentication-configuration">Basic authentication configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-authentication-with-saml">Configuring authentication with SAML</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-authentication-with-apache-shiro">Configuring authentication with Apache Shiro</a></li>
<li class="toctree-l2"><a class="reference internal" href="#access-control">Access Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#application-token">Application Token</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="known-issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/line/centraldogma/releases">Release notes</a></li>
<li class="toctree-l1"><a class="reference external" href="apidocs/index.html#://">API documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="xref/index.html#://">Source cross-reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/line/centraldogma/issues?q=label%3Aquestion-answered">Questions and answers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/line/centraldogma">Fork me on GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/line/centraldogma/blob/main/CONTRIBUTING.md">Contributing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Central Dogma</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Authentication and Access Control</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/line/centraldogma/blob/main/site/src/sphinx/auth.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="authentication-and-access-control">
<span id="auth"></span><h1>Authentication and Access Control<a class="headerlink" href="#authentication-and-access-control" title="Permalink to this headline">¶</a></h1>
<p>Central Dogma provides the following modules to configure its authentication layer:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">server-auth-saml</span></code>, which is based on <a class="reference external" href="https://wiki.shibboleth.net/confluence/display/OS30/Home">OpenSAML</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">server-auth-shiro</span></code>, which is based on <a class="reference external" href="https://shiro.apache.org/">Apache Shiro</a></p></li>
</ul>
<p>They are included in the distribution by default so that you can configure the authentication layer with
the following instruction.</p>
<div class="section" id="basic-authentication-configuration">
<h2>Basic authentication configuration<a class="headerlink" href="#basic-authentication-configuration" title="Permalink to this headline">¶</a></h2>
<p>The first step to configure the authentication layer is adding <code class="docutils literal notranslate"><span class="pre">authentication</span></code> property to the
<code class="docutils literal notranslate"><span class="pre">conf/dogma.json</span></code>. The authentication is disabled when <code class="docutils literal notranslate"><span class="pre">authentication</span></code> property is <code class="docutils literal notranslate"><span class="pre">null</span></code>.
The authentication configuration consists of the following properties:</p>
<div class="highlight-json notranslate"><div class="highlight hljs"><pre class="json">{
  ...
  &quot;authentication&quot;: {
    &quot;factoryClassName&quot;: &quot;the fully-qualified class name of an AuthenticationProviderFactory&quot;,
    &quot;systemAdministrators&quot;: [],
    &quot;caseSensitiveLoginNames&quot;: false,
    &quot;sessionCacheSpec&quot;: &quot;maximumSize=8192,expireAfterWrite=604800s&quot;,
    &quot;sessionTimeoutMillis&quot;: 604800000,
    &quot;sessionValidationSchedule&quot;: &quot;0 30 */4 ? * *&quot;,
    &quot;properties&quot;: null
  }
}</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">factoryClassName</span></code> (string)</p>
<ul>
<li><p>the fully-qualified class name of the <code class="code api-reference docutils literal javadoc"><a class="code api-reference reference external javadoc" href="apidocs/com/linecorp/centraldogma/server/auth/AuthProviderFactory.html">AuthProviderFactory</a></code> implementation. Can be one of
<code class="docutils literal notranslate"><span class="pre">com.linecorp.centraldogma.server.auth.saml.SamlAuthProviderFactory</span></code> or
<code class="docutils literal notranslate"><span class="pre">com.linecorp.centraldogma.server.auth.shiro.ShiroAuthProviderFactory</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">systemAdministrators</span></code> (string array)</p>
<ul>
<li><p>login names of the system administrators. A user who has a login name specified here will get the
system administrator role.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">caseSensitiveLoginNames</span></code> (boolean)</p>
<ul>
<li><p>whether case-sensitive matching is performed when login names are compared. Disabled by default
(case-insensitive).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sessionCacheSpec</span></code> (string)</p>
<ul>
<li><p>the cache specification string which determines the capacity and behavior of the cache for the session
information of the server. Refer to <a class="reference external" href="https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.6.2/com/github/benmanes/caffeine/cache/CaffeineSpec.html">the Caffeine API documentation</a> for more information.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sessionTimeoutMillis</span></code> (integer)</p>
<ul>
<li><p>the session timeout for web-based administrative console, in milliseconds. If <code class="docutils literal notranslate"><span class="pre">null</span></code>, the default value
of ‘604800000 milliseconds’ (7 days) is used.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sessionValidationSchedule</span></code> (string)</p>
<ul>
<li><p>a <a class="reference external" href="https://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html">Quartz cron expression</a> that describes when the task for revalidating the existing sessions is
supposed to be triggered. If unspecified, <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">30</span> <span class="pre">*/4</span> <span class="pre">?</span> <span class="pre">*</span> <span class="pre">*</span></code> (at 0:30, 4:30, 8:30, 12:30, 16:30 and 20:30
for every day) is used.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">properties</span></code> (object)</p>
<ul>
<li><p>an object which describes authentication provider specific properties.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="configuring-authentication-with-saml">
<h2>Configuring authentication with SAML<a class="headerlink" href="#configuring-authentication-with-saml" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Security_Assertion_Markup_Language">Security Assertion Markup Language (SAML)</a> is an open standard for exchanging authentication and authorization
data between an identity provider and a service provider. In this protocol, Central Dogma acts as a service
provider. So, you need to fill the <code class="docutils literal notranslate"><span class="pre">properties</span></code> with information of an identity provider that you delegate
the authentication to.</p>
<div class="highlight-json notranslate"><div class="highlight hljs"><pre class="json">{
  ...
  &quot;authentication&quot;: {
    &quot;factoryClassName&quot;: &quot;com.linecorp.centraldogma.server.auth.saml.SamlAuthProviderFactory&quot;,
    &quot;systemAdministrators&quot;: [],
    &quot;caseSensitiveLoginNames&quot;: false,
    &quot;sessionCacheSpec&quot;: &quot;maximumSize=8192,expireAfterWrite=604800s&quot;,
    &quot;sessionTimeoutMillis&quot;: 604800000,
    &quot;sessionValidationSchedule&quot;: &quot;0 30 */4 ? * *&quot;,
    &quot;properties&quot;: {
      &quot;entityId&quot;: &quot;dogma&quot;,
      &quot;hostname&quot;: &quot;dogma-example.linecorp.com&quot;,
      &quot;signingKey&quot;: &quot;signing&quot;,
      &quot;encryptionKey&quot;: &quot;encryption&quot;,
      &quot;keyStore&quot;: {
        &quot;type&quot;: &quot;PKCS12&quot;,
        &quot;path&quot;: &quot;./conf/saml.jks&quot;,
        &quot;password&quot;: null,
        &quot;keyPasswords&quot;: {
          &quot;signing&quot;: null,
          &quot;encryption&quot;: null
        },
        &quot;signatureAlgorithm&quot;: &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;
      },
      &quot;idp&quot;: {
        &quot;entityId&quot;: &quot;some-idp&quot;,
        &quot;uri&quot;: &quot;https://idp.some-service.com/saml/single_sign_on_service&quot;,
        &quot;binding&quot;: &quot;HTTP_POST&quot;,
        &quot;signingKey&quot;: &quot;some-idp&quot;,
        &quot;encryptionKey&quot;: &quot;some-idp&quot;,
        &quot;subjectLoginNameIdFormat&quot;: &quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;,
        &quot;attributeLoginName&quot;: null
      }
    }
  }
}</pre></div>
</div>
<p>The following describes the meaning of SAML-specific properties.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">entityId</span></code> (string)</p>
<ul>
<li><p>an identifier of this service provider.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hostname</span></code> (string)</p>
<ul>
<li><p>a host name which is used for generating URLs for an assertion consumer service, a metadata service and
a single logout service that are served by this service provider. It should be accessible from a user
browser.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">signingKey</span></code> (string)</p>
<ul>
<li><p>the name of a private key which is used for signing. If unspecified, <code class="docutils literal notranslate"><span class="pre">signing</span></code> is used by default.
Executing <a class="reference external" href="https://docs.oracle.com/en/java/javase/11/tools/keytool.html">keytool</a> with <code class="docutils literal notranslate"><span class="pre">-genkeypair</span></code> command helps you to create a new key pair in your keystore.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">encryptionKey</span></code> (string)</p>
<ul>
<li><p>the name of a private key which is used for encryption. If unspecified, <code class="docutils literal notranslate"><span class="pre">encryption</span></code> is used by default.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">keyStore</span></code></p>
<ul>
<li><p>the keystore which is used to encrypt and decrypt exchanged messages.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> (string)</p>
<ul>
<li><p>the type of the keystore. If unspecified, the type retrieved from
<code class="docutils literal notranslate"><span class="pre">java.security.KeyStore.getDefaultType()</span></code> is used by default.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code> (string)</p>
<ul>
<li><p>the location of the keystore file.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">password</span></code> (string)</p>
<ul>
<li><p>the password of the keystore.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">keyPasswords</span></code> (map of string key-value pairs)</p>
<ul>
<li><p>a map of a key name and its password. If the password is unspecified, the empty string is used by default.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">signatureAlgorithm</span></code> (string)</p>
<ul>
<li><p>a name of the signature algorithm for signing and encryption.
If unspecified, <code class="docutils literal notranslate"><span class="pre">http://www.w3.org/2000/09/xmldsig#rsa-sha1</span></code> is used by default.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">idp</span></code></p>
<ul>
<li><p>the identity provider configuration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">entityId</span></code> (string)</p>
<ul>
<li><p>an identifier of the identity provider.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">uri</span></code> (string)</p>
<ul>
<li><p>a URL where an authentication request is supposed to be sent to.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">binding</span></code> (string)</p>
<ul>
<li><p>a binding protocol of the <code class="docutils literal notranslate"><span class="pre">uri</span></code>. If unspecified, <code class="docutils literal notranslate"><span class="pre">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST</span></code>
is used by default. It can be simply specified as <code class="docutils literal notranslate"><span class="pre">HTTP_POST</span></code> or <code class="docutils literal notranslate"><span class="pre">HTTP_REDIRECT</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">signingKey</span></code> (string)</p>
<ul>
<li><p>the name of a certificate for signing, which is provided by the identity provider.
If unspecified, the <code class="docutils literal notranslate"><span class="pre">entityId</span></code> is used by default. Executing <a class="reference external" href="https://docs.oracle.com/en/java/javase/11/tools/keytool.html">keytool</a> with <code class="docutils literal notranslate"><span class="pre">-importcert</span></code> command
helps you to import a certificate of an identity provider to your keystore.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">encryptionKey</span></code> (string)</p>
<ul>
<li><p>the name of a certificate for encryption, which is provided by the identity provider.
If unspecified, the <code class="docutils literal notranslate"><span class="pre">entityId</span></code> is used by default.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">subjectLoginNameIdFormat</span></code> (string)</p>
<ul>
<li><p>the name ID format of a subject which holds a login name.
If unspecified, <code class="docutils literal notranslate"><span class="pre">urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</span></code> is used by default.
It means that the email address handed from the identity provider is used as a login name in the
authentication layer. You need to consult with the metadata of the identity provider before configuring
this property.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">attributeLoginName</span></code> (string)</p>
<ul>
<li><p>the attribute name which holds a login name. Some identity provider provides a login name by an attribute,
instead of a name ID. In this case, you can configure this property, and then set <code class="docutils literal notranslate"><span class="pre">subjectLoginNameIdFormat</span></code>
to <code class="docutils literal notranslate"><span class="pre">null</span></code> in order to avoid treating an email address as a login name.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="configuring-authentication-with-apache-shiro">
<h2>Configuring authentication with Apache Shiro<a class="headerlink" href="#configuring-authentication-with-apache-shiro" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://shiro.apache.org/">Apache Shiro</a> is a Java security framework that performs authentication, authorization, cryptography,
and session management. Central Dogma leverages its authentication feature to authenticate a user.
If you want to configure the authentication layer with <a class="reference external" href="https://shiro.apache.org/">Apache Shiro</a>, you should configure the <code class="docutils literal notranslate"><span class="pre">authentication</span></code>
property in your <code class="docutils literal notranslate"><span class="pre">conf/dogma.json</span></code> as follows. Note that the path of your INI configuration file is specified
in the <code class="docutils literal notranslate"><span class="pre">properties</span></code> property.</p>
<div class="highlight-json notranslate"><div class="highlight hljs"><pre class="json">{
  ...
  &quot;authentication&quot;: {
    &quot;factoryClassName&quot;: &quot;com.linecorp.centraldogma.server.auth.shiro.ShiroAuthProviderFactory&quot;,
    &quot;systemAdministrators&quot;: [],
    &quot;caseSensitiveLoginNames&quot;: false,
    &quot;sessionCacheSpec&quot;: &quot;maximumSize=8192,expireAfterWrite=604800s&quot;,
    &quot;sessionTimeoutMillis&quot;: 604800000,
    &quot;sessionValidationSchedule&quot;: &quot;0 30 */4 ? * *&quot;,
    &quot;properties&quot;: &quot;./conf/shiro.ini&quot;
  }
}</pre></div>
</div>
<p>You may configure <code class="docutils literal notranslate"><span class="pre">conf/shiro.ini</span></code> simply as follows, which uses a local database system of <a class="reference external" href="https://shiro.apache.org/">Apache Shiro</a>:</p>
<div class="highlight-ini notranslate"><div class="highlight hljs"><pre class="ini">[users]
system-admin = system-admin-secret
dogma-admin = dogma-admin-secret</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="https://shiro.apache.org/">Apache Shiro</a> supports RDBMS or LDAP based security system as well. You can find the example
configuration files under the <code class="docutils literal notranslate"><span class="pre">conf/</span></code> directory in the distribution.</p>
</div>
</div>
<div class="section" id="access-control">
<h2>Access Control<a class="headerlink" href="#access-control" title="Permalink to this headline">¶</a></h2>
<p>One way to configure the access control system for Central Dogma is to use the web UI.
To open the web UI, you may access <code class="docutils literal notranslate"><span class="pre">http://{your-central-dogma-domain-or-ip}:36462</span></code> in your web browser.
You may configure a project with HTTP APIs, but we recommend the web UI because it is easier and simpler.</p>
<p>Everyone who is logged in is able to create a new project, and he or she would be an owner of the project.
If you have the right to configure a project, in other words, if you are an owner of the project,
you can access the configuration UI of the project by clicking the cog icon which is shown on the right
of the project name.</p>
<img alt="_images/auth_1.png" src="_images/auth_1.png" />
<p>If you click the icon, you can see the configuration UI for a project like below. In this page, you can
add a user or a token as a member of the project and can also remove them from the project.</p>
<img alt="_images/auth_2.png" src="_images/auth_2.png" />
<p>When you add a user as a member of the project, you need to choose the role of the member.
There are 4 user role types in the access control system of Central Dogma, but you can choose one
of <code class="docutils literal notranslate"><span class="pre">Owner</span></code> and <code class="docutils literal notranslate"><span class="pre">Member</span></code> role in the UI. More information about the role is as follows.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">System</span> <span class="pre">Administrator</span></code></p>
<ul>
<li><p>the user that all permissions are assigned to, a.k.a ‘super user’. Only a system administrator can restore
removed project. The system administrators can be configured in <code class="docutils literal notranslate"><span class="pre">conf/dogma.json</span></code> as described the above.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Owner</span></code> of a project</p>
<ul>
<li><p>the administrator of a project. A user who creates a project is to be an owner of the project by
default. Owners can add a user or a token as an owner or a member of the project, and can create
a new repository. Also, they can remove the repository or the project from the system and can
configure permissions for each role, member and token.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Member</span></code> of a project</p>
<ul>
<li><p>users who can see the configuration of a project, but members are not allowed to change the configuration.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Guest</span></code> of a project</p>
<ul>
<li><p>users who is logged in but is neither an owner nor a member of a project. Guests are not allowed to see
the configuration of a project.</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not forget to make a new <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Token</span></code> before adding a token to a project. <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">a</span> <span class="pre">token</span></code>
button would be disabled if there is no token. The cog icon on the right of the <code class="docutils literal notranslate"><span class="pre">Tokens</span></code> title
brings you to the <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Token</span></code> management page.</p>
</div>
<p>You can see the configuration UI for a repository when you click the name of repository in the
<code class="docutils literal notranslate"><span class="pre">Repository</span> <span class="pre">Permission</span></code> list. The following image shows the configuration of the repository called <code class="docutils literal notranslate"><span class="pre">main</span></code>.
In this page, you can do the followings.</p>
<ul class="simple">
<li><p>Changing the role of a member or a token in a project</p></li>
<li><p>Setting permissions of each role for a repository</p></li>
<li><p>Setting permissions of a specific member or token for a repository</p></li>
</ul>
<img alt="_images/auth_3.png" src="_images/auth_3.png" />
<p>Permissions can be specified for a repository only. So a user can configure their repositories with different
access control levels. There are only two permission types currently, which are <code class="docutils literal notranslate"><span class="pre">READ</span></code> and <code class="docutils literal notranslate"><span class="pre">WRITE</span></code>.
<code class="docutils literal notranslate"><span class="pre">WRITE</span></code> permission implies <code class="docutils literal notranslate"><span class="pre">READ</span></code> permission, so you cannot give only WRITE permission to a user,
a token or any role.</p>
<p>Every access of HTTP API will be controlled by the access control system. A request is allowed only if the
user of the request has sufficient permissions. If permissions for the user are specified in the repository
configuration, it would be used first to control the request. If it does not exist, permissions for each role
of the repository would be used to do that.</p>
<div class="section" id="application-token">
<h3>Application Token<a class="headerlink" href="#application-token" title="Permalink to this headline">¶</a></h3>
<p>When a user uses the web UI, he or she should login first to get a token for a new web session. But what
should a user do when he or she uses one of Central Dogma clients? The user may log in to a Central Dogma
server via HTTP API and get a session token. But it is inconvenient and the user may write more complicated
code because the user should log in again when the session token is expired. <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Token</span></code> would be
useful for this case.</p>
<p><code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Token</span></code> is like a virtual user, so it can have any role in a project. Also, its permissions
can be specified in a repository configuration like a member. To get a new token, a user can use
<code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Tokens</span></code> menu of the web UI. <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">ID</span></code> has to be unique to identify where a client
request comes from.</p>
<img alt="_images/auth_4.png" src="_images/auth_4.png" />
<p>Anyone who is logged into the Central Dogma can create a new <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Token</span></code>, and the token is shared
for everyone. So any owner of a project can add any token to their project. However only both the token
creator and the system administrator are allowed to deactivate and/or remove the token.</p>
<p>There are two levels of a token, which are <code class="docutils literal notranslate"><span class="pre">System</span> <span class="pre">Admin</span></code> and <code class="docutils literal notranslate"><span class="pre">User</span></code>. <code class="docutils literal notranslate"><span class="pre">System</span> <span class="pre">Admin</span></code> level token can be
created by only the system administrators. A client who sends a request with the token is allowed to access
system administrator-level APIs.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="known-issues.html" class="btn btn-neutral float-right" title="Known issues" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="mirroring.html" class="btn btn-neutral float-left" title="Better configuration change workflow with Git-to-CD mirroring" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017-2025, LINE Corporation.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
  <a href="https://github.com/line/centraldogma" class="github-corner" aria-label="View source on GitHub">
    <svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true">
      <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" fill="#1e2834"></path>
      <path class="octo-arm" d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="#ffffff" style="transform-origin: 130px 106px;"></path>
      <path class="octo-body" d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="#ffffff"></path>
    </svg>
  </a>
  <script type="text/javascript" src="_static/add_badges.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/gradle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/protobuf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/thrift.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.7.0/highlightjs-line-numbers.min.js"></script>
  <script>
    document.querySelectorAll('div.hljs > pre').forEach(function(block) {
      hljs.highlightBlock(block);
      hljs.lineNumbersBlock(block);
    });
  </script>
   


</body>
</html>